# Reforking

* Pitchforkの目玉機能
* Unicornは、サービス起動時にコードのロード(及びそれにより必要なメモリの初期化)を行い、コードを行った親プロセスから子プロセスをforkし、メモリを効率的に使用するようにしている(Copy-on-Writeにより、メモリの内容に変更がなければプロセス間でメモリが共有される)
* しかし、Railsアプリケーションでは、リクエストを処理するまでコードのロードが行われないケースがある。また、Ruby VMのインラインキャッシュや、JITのコードなども、リクエストが行われないとメモリが初期化されない。
* そこで、Pitchforkでは、リクエストを一定処理したworkerから更に子プロセスを生成し、それをworkerとして使用することで、より効率的にメモリを使用するようになっている(Copy-On-Write対象となるメモリが多くなるようにしている)
